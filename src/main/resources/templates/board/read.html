<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/index :: setContent(~{this :: content})}">
  <th:block th:fragment="content">
    <h1>Guestbook Read Page</h1>
    <div class="form-grop">
      <label>Gno</label>
      <input type="text" class="form-control" name="bno" th:value="${dto.bno}" readonly>
    </div>
    <div class="form-group">
      <label>Title</label>
      <input type="text" class="form-control" name="title" th:value="${dto.title}" readonly>
    </div>
    <div class="form-group">
      <label>Content</label>
      <textarea class="form-control" rows="5" name="content" readonly>[[${dto.content}]]</textarea>
    </div>
    <div class="form-group">
      <label>Writer</label>
      <input type="text" class="form-control" name="writerName" th:value="${dto.writerName}" readonly>
    </div>
    <div class="form-group">
      <label>RegDate</label>
      <input type="text" class="form-control" name="regDate" th:value="${#temporals.format(dto.regDate, 'yyyy/MM/dd HH:mm:ss')}" readonly>
    </div>
<!--    <div class="form-group">-->
<!--      <label>ModDate</label>-->
<!--      <input type="text" class="form-control" name="modDate" th:value="${#temporals.format(dto.modDate, 'yyyy/MM/dd HH:mm:ss')}" readonly>-->
<!--    </div>-->
    <a th:href="@{/board/modify(page = ${requestDto.page}, size = ${requestDto.size}, bno= ${dto.bno}, type=${requestDto.type}, keyword=${requestDto.keyword})}" class="btn btn-primary mt-3">modify</a>
    <a th:href="@{/board/list(page = ${requestDto.page}, size = ${requestDto.size}, type=${requestDto.type}, keyword=${requestDto.keyword})}" class="btn btn-primary mt-3">List</a>
  </th:block>
</th:block>
  <script>
    //전역변수로 counter 0
    // 10 ** 3

    let counter = 0;
    function callLocal(n, cb) {
      const add = 10 ** n;
        counter += add;
        console.log(`[local] 10^${n} = ${add} -> counter : ${counter}`)
        if(cb) cb();
    }

    function callAsync(n, cb) {
      const add = 10 ** n;
      const delay = Math.floor(Math.random() * 1000);
      setTimeout(() => {
        counter += add;
        console.log(`[async] 10^${n} = ${add} -> counter : ${counter}, delay : ${delay}ms`)
        if(cb) cb();
      }, delay);
    }

    //callback

    callAsync(0, () => {
      callAsync(1, () => {
        callAsync(2, () => {
          callAsync(3, () => {
            callAsync(4, () => {
              callLocal(5, () => {
                callLocal(6, () => {
                  callLocal(7 , () => {
                    callLocal(8, () => {
                      callLocal(9)
                    })
                  })
                })
              })
            });
          });
        });
      });
    });

    // $.ajax({
    //   success: (data) => {
    //     $.ajax({
    //       success: (data) => {
    //
    //       }
    //     })
    //   }
    // });
    $.ajax({
      success:(data) => {},
      error:(error) => {},
      always:(data) => {}
    })
    .done((data) => {

    })
    .fail(error => {

    })
    .always((data) => {

    })
    .done((data) => {

    })
  </script>
</html>